{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://agent-lab.local/schemas/grades_v1.json",
  "title": "Grades v1",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "schema_version",
    "integration_level",
    "replay_grade",
    "isolation_grade",
    "comparability_grade",
    "provenance_grade",
    "privacy_grade"
  ],
  "properties": {
    "schema_version": { "const": "grades_v1" },
    "integration_level": {
      "type": "string",
      "enum": ["cli_basic", "cli_events", "otel", "sdk_control", "sdk_full"]
    },
    "replay_grade": {
      "type": "string",
      "enum": ["strict", "checkpointed", "best_effort", "none"]
    },
    "isolation_grade": {
      "type": "string",
      "enum": ["hermetic", "bounded", "leaky"]
    },
    "comparability_grade": {
      "type": "string",
      "enum": ["valid_paired", "valid_unpaired", "invalid", "unknown"]
    },
    "provenance_grade": {
      "type": "string",
      "enum": ["attested", "recorded", "partial"]
    },
    "privacy_grade": {
      "type": "string",
      "enum": ["redacted", "raw", "unknown"]
    },
    "evidence": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "hooks": { "type": "boolean" },
        "traces": { "type": "boolean" },
        "sdk": { "type": "boolean" }
      }
    },
    "notes": { "type": "array", "items": { "type": "string" } }
  }
}
